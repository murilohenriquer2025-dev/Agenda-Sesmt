<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Agenda SESMT</title>
  <!-- Ajuste o caminho abaixo conforme a pasta onde publica (ex: /Agenda-Sesmt/) -->
  <link rel="manifest" href="/Agenda-Sesmt/manifest.json" />
  <meta name="theme-color" content="#00796B" />
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    iframe { width: 100%; height: 85vh; border: none; }
    .center { text-align: center; margin-top: 40px; }
  </style>
</head>
<body>
  <h1>Agenda SESMT</h1>
  <p>Se a agenda não abrir abaixo, clique no link para abrir em nova aba:</p>
  <p><a id="openLink" href="https://sites.google.com/view/agendadetreinamento/agenda-sesmt" target="_blank" rel="noopener">Abrir Agenda SESMT (Google Sites)</a></p>

  <div id="frameContainer" class="center"></div>

  <script>
    // Registrar service worker (ajuste caminho conforme onde colocar o arquivo)
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/Agenda-Sesmt/service-worker.js')
        .then(() => console.log('Service Worker registrado.'))
        .catch(err => console.warn('Erro ao registrar SW:', err));
    }

    // Tentar embutir o Google Sites em um iframe (muitos Sites bloqueiam iframe; se bloquear, ficará em branco)
    (function tryEmbed() {
      try {
        var iframe = document.createElement('iframe');
        iframe.src = 'https://sites.google.com/view/agendadetreinamento/agenda-sesmt';
        iframe.loading = 'lazy';
        document.getElementById('frameContainer').appendChild(iframe);
      } catch (e) {
        console.warn('Erro ao criar iframe:', e);
      }
    })();
  </script>
</body>
</html>
